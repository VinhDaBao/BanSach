<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	th:replace="~{layout/base::layout(~{::title}, ~{::section})}">
<head>
<meta charset="UTF-8">
<title th:fragment="title"
	th:text="${pageTitle} ?: 'Chi ti·∫øt khuy·∫øn m√£i'">Chi ti·∫øt khuy·∫øn
	m√£i</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>
	<section>
		<div class="container-fluid pt-3 px-0">


			<div class="card shadow-lg border-0 mb-4">
				<div class="card-header bg-primary text-white">
					<h4 class="mb-0">Chi ti·∫øt khuy·∫øn m√£i</h4>
				</div>
				<div class="card-body">
					<p>
						<strong>T√™n khuy·∫øn m√£i:</strong> <span
							th:text="${promotion.tenKM}">T√™n KM</span>
					</p>
					<p>
						<strong>Th·ªùi gian:</strong> <span th:text="${promotion.ngayBD}">ngayBD</span>
						&nbsp;‚Üí&nbsp; <span th:text="${promotion.ngayKT}">ngayKT</span>
					</p>
					<p
						th:with="displayValue=${promotion.giaTri <= 1 ? (promotion.giaTri * 100) + '%': promotion.giaTri}">
						<strong>Gi√° tr·ªã:</strong> <span th:text="${displayValue}">giaTri</span>
					</p>
				</div>
			</div>

			<div class="card shadow-lg border-0 mb-4">
				<div class="card-header bg-success text-white">
					<h5 class="mb-0">üìö S√°ch ƒëang √°p d·ª•ng</h5>
				</div>
				<div class="card-body">

					<div th:if="${#lists.isEmpty(dsSachKM)}" class="alert alert-info">
						Ch∆∞a c√≥ s√°ch n√†o ƒë∆∞·ª£c √°p d·ª•ng khuy·∫øn m√£i n√†y.</div>

					<div th:if="${!#lists.isEmpty(dsSachKM)}">
						<table class="table table-striped align-middle">
							<thead>
								<tr>
									<th>T√™n s√°ch</th>
									<th>T√°c gi·∫£</th>
									<th>Gi√° b√°n</th>
									<th>Gi√° sau gi·∫£m</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="item : ${dsSachKM}"
									th:onclick="|window.location='@{/product-detail/}'+${item.sach.id}|"
									style="cursor: pointer;">
									<td th:text="${item.sach.tenSP}">TenSP</td>

									<td th:text="${item.sach.tacGia}">TacGia</td>
									<td
										th:text="${T(java.lang.Math).round(item.sach.giaBan.doubleValue())}">GiaBan</td>
									<td
										th:text="${priceAfter[item.sach.id] != null ? T(java.lang.Math).round(priceAfter[item.sach.id]) : '-'}">GiaSauGiam</td>
									<td></td>
								</tr>
							</tbody>
						</table>
					</div>

					<hr />



				</div>
			</div>
		</div>

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	</section>
</body>
</html>